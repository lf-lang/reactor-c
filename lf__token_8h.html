<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.14.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>reactor-c: /Users/runner/work/reactor-c/reactor-c/include/core/lf_token.h File Reference</title>
<link rel="icon" href="favicon.ico" type="image/x-icon" />
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="logo.png"/></td>
  <td id="projectalign">
   <div id="projectname">reactor-c<span id="projectnumber">&#160;1.0</span>
   </div>
   <div id="projectbrief">C Runtime for Lingua Franca</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.14.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('lf__token_8h.html','',''); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">lf_token.h File Reference<div class="ingroups"><a class="el" href="group__Internal.html">Internal</a></div></div></div>
</div><!--header-->
<div class="contents">

<p>Definitions for token objects, reference-counted wrappers around dynamically-allocated messages.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &lt;stdbool.h&gt;</code><br />
</div>
<p><a href="lf__token_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-nested-classes" class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:lf_5Fport_5Fbase_5Ft" id="r_lf_5Fport_5Fbase_5Ft"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structlf__port__base__t.html">lf_port_base_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Base type for ports.  <a href="structlf__port__base__t.html#details">More...</a><br /></td></tr>
<tr class="memitem:lf_5Fsparse_5Fio_5Frecord_5Ft" id="r_lf_5Fsparse_5Fio_5Frecord_5Ft"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structlf__sparse__io__record__t.html">lf_sparse_io_record_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">A record of the subset of channels of a multiport that have present inputs.  <a href="structlf__sparse__io__record__t.html#details">More...</a><br /></td></tr>
<tr class="memitem:lf_5Ftoken_5Ft" id="r_lf_5Ftoken_5Ft"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structlf__token__t.html">lf_token_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Token type for dynamically allocated arrays and structs sent as messages.  <a href="structlf__token__t.html#details">More...</a><br /></td></tr>
<tr class="memitem:token_5Ftemplate_5Ft" id="r_token_5Ftemplate_5Ft"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtoken__template__t.html">token_template_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Base type for ports (<a class="el" href="structlf__port__base__t.html" title="Base type for ports.">lf_port_base_t</a>) and actions (<a class="el" href="structtrigger__t.html" title="Trigger struct representing an output, timer, action, or input.">trigger_t</a>), which can carry tokens.  <a href="structtoken__template__t.html#details">More...</a><br /></td></tr>
<tr class="memitem:token_5Ftype_5Ft" id="r_token_5Ftype_5Ft"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtoken__type__t.html">token_type_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Type information for tokens.  <a href="structtoken__type__t.html#details">More...</a><br /></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-typedef-members" class="groupheader"><a id="typedef-members" name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ga91b17c088cd50ce69df73f1470a18799" id="r_ga91b17c088cd50ce69df73f1470a18799"><td class="memItemLeft" align="right" valign="top">typedef struct lf_port_base_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Internal.html#ga91b17c088cd50ce69df73f1470a18799">lf_port_base_t</a></td></tr>
<tr class="memdesc:ga91b17c088cd50ce69df73f1470a18799"><td class="mdescLeft">&#160;</td><td class="mdescRight">Base type for ports.  <br /></td></tr>
<tr class="memitem:gaa6696d69bef6bb4bdd52ef9ab9d2c614" id="r_gaa6696d69bef6bb4bdd52ef9ab9d2c614"><td class="memItemLeft" align="right" valign="top">typedef struct lf_sparse_io_record_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Internal.html#gaa6696d69bef6bb4bdd52ef9ab9d2c614">lf_sparse_io_record_t</a></td></tr>
<tr class="memdesc:gaa6696d69bef6bb4bdd52ef9ab9d2c614"><td class="mdescLeft">&#160;</td><td class="mdescRight">A record of the subset of channels of a multiport that have present inputs.  <br /></td></tr>
<tr class="memitem:ga973e404c4c1bd798a54501d0e1d640f9" id="r_ga973e404c4c1bd798a54501d0e1d640f9"><td class="memItemLeft" align="right" valign="top">typedef struct lf_token_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__API.html#ga973e404c4c1bd798a54501d0e1d640f9">lf_token_t</a></td></tr>
<tr class="memdesc:ga973e404c4c1bd798a54501d0e1d640f9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Token type for dynamically allocated arrays and structs sent as messages.  <br /></td></tr>
<tr class="memitem:a6202eb05c29c30bfd6a8fc203de6422f" id="r_a6202eb05c29c30bfd6a8fc203de6422f"><td class="memItemLeft" align="right" valign="top">typedef struct self_base_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6202eb05c29c30bfd6a8fc203de6422f">self_base_t</a></td></tr>
<tr class="memitem:ga0cb4f0fedba2f1e1fd3893440ab53647" id="r_ga0cb4f0fedba2f1e1fd3893440ab53647"><td class="memItemLeft" align="right" valign="top">typedef enum <a class="el" href="group__Internal.html#gabe23a36a87d2f0c076da417eb0114c7e">token_freed</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Internal.html#ga0cb4f0fedba2f1e1fd3893440ab53647">token_freed</a></td></tr>
<tr class="memdesc:ga0cb4f0fedba2f1e1fd3893440ab53647"><td class="mdescLeft">&#160;</td><td class="mdescRight">Possible return values for <a class="el" href="group__Internal.html#ga88c890be1f8d45461a6985cbfe6faa99">_lf_done_using</a> and <a class="el" href="group__Internal.html#ga2798a92c59a1d46b602298cdbd187ab1">_lf_free_token</a>.  <br /></td></tr>
<tr class="memitem:gad0befcbc6fe23c8dd0b6f483d4067e45" id="r_gad0befcbc6fe23c8dd0b6f483d4067e45"><td class="memItemLeft" align="right" valign="top">typedef struct token_template_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Internal.html#gad0befcbc6fe23c8dd0b6f483d4067e45">token_template_t</a></td></tr>
<tr class="memdesc:gad0befcbc6fe23c8dd0b6f483d4067e45"><td class="mdescLeft">&#160;</td><td class="mdescRight">Base type for ports (<a class="el" href="structlf__port__base__t.html" title="Base type for ports.">lf_port_base_t</a>) and actions (<a class="el" href="structtrigger__t.html" title="Trigger struct representing an output, timer, action, or input.">trigger_t</a>), which can carry tokens.  <br /></td></tr>
<tr class="memitem:ga58dc2f4a624d2f3030b7e5f3596e58d6" id="r_ga58dc2f4a624d2f3030b7e5f3596e58d6"><td class="memItemLeft" align="right" valign="top">typedef struct token_type_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Internal.html#ga58dc2f4a624d2f3030b7e5f3596e58d6">token_type_t</a></td></tr>
<tr class="memdesc:ga58dc2f4a624d2f3030b7e5f3596e58d6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Type information for tokens.  <br /></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-enum-members" class="groupheader"><a id="enum-members" name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:gabe23a36a87d2f0c076da417eb0114c7e" id="r_gabe23a36a87d2f0c076da417eb0114c7e"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Internal.html#gabe23a36a87d2f0c076da417eb0114c7e">token_freed</a> { <a class="el" href="group__Internal.html#ggabe23a36a87d2f0c076da417eb0114c7ea3d7522b54086645e077eb70e78731c5c">NOT_FREED</a> = 0
, <a class="el" href="group__Internal.html#ggabe23a36a87d2f0c076da417eb0114c7ea417a0268666423fd955fea6f38cde238">VALUE_FREED</a>
, <a class="el" href="group__Internal.html#ggabe23a36a87d2f0c076da417eb0114c7ea0a6094445d7a54e61aa3a43f6d017e2b">TOKEN_FREED</a>
, <a class="el" href="group__Internal.html#ggabe23a36a87d2f0c076da417eb0114c7ea02ef194d373714ee3ac62226729e0cb0">TOKEN_AND_VALUE_FREED</a>
 }</td></tr>
<tr class="memdesc:gabe23a36a87d2f0c076da417eb0114c7e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Possible return values for <a class="el" href="group__Internal.html#ga88c890be1f8d45461a6985cbfe6faa99">_lf_done_using</a> and <a class="el" href="group__Internal.html#ga2798a92c59a1d46b602298cdbd187ab1">_lf_free_token</a>.  <a href="group__Internal.html#gabe23a36a87d2f0c076da417eb0114c7e">More...</a><br /></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-func-members" class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga88c890be1f8d45461a6985cbfe6faa99" id="r_ga88c890be1f8d45461a6985cbfe6faa99"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__Internal.html#gabe23a36a87d2f0c076da417eb0114c7e">token_freed</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Internal.html#ga88c890be1f8d45461a6985cbfe6faa99">_lf_done_using</a> (<a class="el" href="structlf__token__t.html">lf_token_t</a> *token)</td></tr>
<tr class="memdesc:ga88c890be1f8d45461a6985cbfe6faa99"><td class="mdescLeft">&#160;</td><td class="mdescRight">Decrement the reference count of the specified token.  <br /></td></tr>
<tr class="memitem:gafd97c46ee623b1ae34a70088ee9b5020" id="r_gafd97c46ee623b1ae34a70088ee9b5020"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Internal.html#gafd97c46ee623b1ae34a70088ee9b5020">_lf_free_all_tokens</a> ()</td></tr>
<tr class="memdesc:gafd97c46ee623b1ae34a70088ee9b5020"><td class="mdescLeft">&#160;</td><td class="mdescRight">Free all tokens.  <br /></td></tr>
<tr class="memitem:ga2798a92c59a1d46b602298cdbd187ab1" id="r_ga2798a92c59a1d46b602298cdbd187ab1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__Internal.html#gabe23a36a87d2f0c076da417eb0114c7e">token_freed</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Internal.html#ga2798a92c59a1d46b602298cdbd187ab1">_lf_free_token</a> (<a class="el" href="structlf__token__t.html">lf_token_t</a> *token)</td></tr>
<tr class="memdesc:ga2798a92c59a1d46b602298cdbd187ab1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Free the specified token, if appropriate.  <br /></td></tr>
<tr class="memitem:gab1efa737bf70317f885c1dc772c4f23b" id="r_gab1efa737bf70317f885c1dc772c4f23b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Internal.html#gab1efa737bf70317f885c1dc772c4f23b">_lf_free_token_copies</a> (void)</td></tr>
<tr class="memdesc:gab1efa737bf70317f885c1dc772c4f23b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Free token copies made for mutable inputs.  <br /></td></tr>
<tr class="memitem:ga8f2f9c98968a10bf4d37077fd363ac48" id="r_ga8f2f9c98968a10bf4d37077fd363ac48"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structlf__token__t.html">lf_token_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Internal.html#ga8f2f9c98968a10bf4d37077fd363ac48">_lf_get_token</a> (<a class="el" href="structtoken__template__t.html">token_template_t</a> *tmplt)</td></tr>
<tr class="memdesc:ga8f2f9c98968a10bf4d37077fd363ac48"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a token for the specified template.  <br /></td></tr>
<tr class="memitem:ga5d1a2996844350bc1e29de47e3b56644" id="r_ga5d1a2996844350bc1e29de47e3b56644"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Internal.html#ga5d1a2996844350bc1e29de47e3b56644">_lf_initialize_template</a> (<a class="el" href="structtoken__template__t.html">token_template_t</a> *tmplt, size_t element_size)</td></tr>
<tr class="memdesc:ga5d1a2996844350bc1e29de47e3b56644"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the specified template to contain a token that is an.  <br /></td></tr>
<tr class="memitem:ga6e2c7940f2e59f5ff57807df6b41f5fe" id="r_ga6e2c7940f2e59f5ff57807df6b41f5fe"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structlf__token__t.html">lf_token_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Internal.html#ga6e2c7940f2e59f5ff57807df6b41f5fe">_lf_initialize_token</a> (<a class="el" href="structtoken__template__t.html">token_template_t</a> *tmplt, size_t length)</td></tr>
<tr class="memdesc:ga6e2c7940f2e59f5ff57807df6b41f5fe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return a token for storing an array of the specified length with new memory allocated (using calloc, so initialize to zero) for storing that array.  <br /></td></tr>
<tr class="memitem:gac171b72d59f37653f012d30cad72a2d2" id="r_gac171b72d59f37653f012d30cad72a2d2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structlf__token__t.html">lf_token_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Internal.html#gac171b72d59f37653f012d30cad72a2d2">_lf_initialize_token_with_value</a> (<a class="el" href="structtoken__template__t.html">token_template_t</a> *tmplt, void *value, size_t length)</td></tr>
<tr class="memdesc:gac171b72d59f37653f012d30cad72a2d2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return a token storing the specified value, which is assumed to be either a scalar (if length is 1) or an array of the specified length.  <br /></td></tr>
<tr class="memitem:ga4616dad8eeb4cbe04a4f9697d3de9b16" id="r_ga4616dad8eeb4cbe04a4f9697d3de9b16"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structlf__token__t.html">lf_token_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Internal.html#ga4616dad8eeb4cbe04a4f9697d3de9b16">_lf_new_token</a> (<a class="el" href="structtoken__type__t.html">token_type_t</a> *type, void *value, size_t length)</td></tr>
<tr class="memdesc:ga4616dad8eeb4cbe04a4f9697d3de9b16"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return a new token with the specified type, value, and length.  <br /></td></tr>
<tr class="memitem:gabeff98dcfb6b5715aac8e1438c5a6e77" id="r_gabeff98dcfb6b5715aac8e1438c5a6e77"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Internal.html#gabeff98dcfb6b5715aac8e1438c5a6e77">_lf_replace_template_token</a> (<a class="el" href="structtoken__template__t.html">token_template_t</a> *tmplt, <a class="el" href="structlf__token__t.html">lf_token_t</a> *newtoken)</td></tr>
<tr class="memdesc:gabeff98dcfb6b5715aac8e1438c5a6e77"><td class="mdescLeft">&#160;</td><td class="mdescRight">Replace the token in the specified template, if there is one, with a new one.  <br /></td></tr>
<tr class="memitem:gaa47b51a11727eec252ff7e786794bd88" id="r_gaa47b51a11727eec252ff7e786794bd88"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structlf__token__t.html">lf_token_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__API.html#gaa47b51a11727eec252ff7e786794bd88">lf_new_token</a> (void *port_or_action, void *val, size_t len)</td></tr>
<tr class="memdesc:gaa47b51a11727eec252ff7e786794bd88"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return a new disassociated token with type matching the specified port or action and containing the specified value and length.  <br /></td></tr>
<tr class="memitem:gaaf8e6f18b021d0b8ece7e1b64280432f" id="r_gaaf8e6f18b021d0b8ece7e1b64280432f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structlf__token__t.html">lf_token_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__API.html#gaaf8e6f18b021d0b8ece7e1b64280432f">lf_writable_copy</a> (<a class="el" href="structlf__port__base__t.html">lf_port_base_t</a> *port)</td></tr>
<tr class="memdesc:gaaf8e6f18b021d0b8ece7e1b64280432f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return a writable copy of the token in the specified template.  <br /></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-var-members" class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:gaf4657205de7da8f0bf7b346985a983fc" id="r_gaf4657205de7da8f0bf7b346985a983fc"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Internal.html#gaf4657205de7da8f0bf7b346985a983fc">_lf_count_token_allocations</a></td></tr>
<tr class="memdesc:gaf4657205de7da8f0bf7b346985a983fc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Counter used to issue a warning if memory is allocated for tokens and never freed.  <br /></td></tr>
</table>
<a name="details" id="details"></a><h2 id="header-details" class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Definitions for token objects, reference-counted wrappers around dynamically-allocated messages. </p>
<dl class="section author"><dt>Author</dt><dd>Edward A. Lee</dd></dl>
<p>This header file supports token objects, which are reference-counted wrappers around values that are carried by events scheduled on the event queue and held in ports and actions when the type is not a primitive type.</p>
<p>A token has type <a class="el" href="structlf__token__t.html" title="Token type for dynamically allocated arrays and structs sent as messages.">lf_token_t</a>. It points to a value, a dynamically allocated chunk of memory on the heap. It has a length field, which enables its value to be interpreted as an array of the given length. It has a pointer to type (<a class="el" href="structtoken__type__t.html" title="Type information for tokens.">token_type_t</a>), which has an element_size field specifying the size of each array element (or the size of the whole value if it is not an array and has length 1). The type also optionally has function pointers to a destructor and copy constructor. These must be specified if the payload (value) is a complex struct that cannot be freed by a simple call to free() or copied by a call to memcpy().</p>
<p>An instance of a port struct and <a class="el" href="structtrigger__t.html" title="Trigger struct representing an output, timer, action, or input.">trigger_t</a> struct (an action or an input port) can be cast to <a class="el" href="structtoken__template__t.html" title="Base type for ports (lf_port_base_t) and actions (trigger_t), which can carry tokens.">token_template_t</a>, which has a <a class="el" href="structtoken__type__t.html" title="Type information for tokens.">token_type_t</a> field called type and a pointer to a token (which may be NULL). The same instance can also be cast to <a class="el" href="structtoken__type__t.html" title="Type information for tokens.">token_type_t</a>, which has an element_size field and (possibly) function pointers to a destructor and copy constructor.</p>
<p>A "template token" is one pointed to by a <a class="el" href="structtoken__template__t.html" title="Base type for ports (lf_port_base_t) and actions (trigger_t), which can carry tokens.">token_template_t</a> (an action or a port). This template token ensures that port an action values persist until they are overwritten, and hence they can be read at a tag even if not present. Such a token will persist in the template until it is overwritten by another token. Every <a class="el" href="structtoken__template__t.html" title="Base type for ports (lf_port_base_t) and actions (trigger_t), which can carry tokens.">token_template_t</a> gets initialized with such a token. Before that token is used the first time, its reference count will be 0. Once it has been assigned a value, its reference count will be 1. When the <a class="el" href="structtoken__template__t.html" title="Base type for ports (lf_port_base_t) and actions (trigger_t), which can carry tokens.">token_template_t</a> (port or action) is assigned a new value, if the reference count is 1, then the same token will be reused, and any previous value (payload) will be freed. </p>
</div><a name="doc-typedef-members" id="doc-typedef-members"></a><h2 id="header-doc-typedef-members" class="groupheader">Typedef Documentation</h2>
<a id="a6202eb05c29c30bfd6a8fc203de6422f" name="a6202eb05c29c30bfd6a8fc203de6422f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6202eb05c29c30bfd6a8fc203de6422f">&#9670;&#160;</a></span>self_base_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct self_base_t self_base_t</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<div id="page-nav" class="page-nav-panel">
<div id="page-nav-resize-handle"></div>
<div id="page-nav-tree">
<div id="page-nav-contents">
</div><!-- page-nav-contents -->
</div><!-- page-nav-tree -->
</div><!-- page-nav -->
</div><!-- container -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a href="dir_d522931ffa1371640980b621734a4381.html">Users</a></li><li class="navelem"><a href="dir_308bc1499b5f97ed0ba0865f54916185.html">runner</a></li><li class="navelem"><a href="dir_61c33e2faf3f402353c3e4f8a1de3ade.html">work</a></li><li class="navelem"><a href="dir_f3821db21fac557b6b84e126be960f00.html">reactor-c</a></li><li class="navelem"><a href="dir_ac1783de82f42168f79d5e66bc78eb8b.html">reactor-c</a></li><li class="navelem"><a href="dir_c9cd8ac8edbc816f956bbae22744abc5.html">include</a></li><li class="navelem"><a href="dir_26ddd9272df60b6031e319f70270bd7f.html">core</a></li><li class="navelem"><a href="lf__token_8h.html">lf_token.h</a></li>
    <li class="footer">Generated on <span class="timestamp"></span> for reactor-c by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.14.0 </li>
  </ul>
</div>
</body>
</html>
